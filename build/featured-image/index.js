(()=>{"use strict";var e,t={672:()=>{const e=window.wp.blocks;function t(e){var o,l,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(o=0;o<n;o++)e[o]&&(l=t(e[o]))&&(i&&(i+=" "),i+=l)}else for(l in e)e[l]&&(i&&(i+=" "),i+=l);return i}const o=function(){for(var e,o,l=0,i="",n=arguments.length;l<n;l++)(e=arguments[l])&&(o=t(e))&&(i&&(i+=" "),i+=o);return i},l=window.wp.blob,i=window.wp.coreData,n=window.wp.data,r=window.wp.components,s=window.wp.blockEditor,a=window.wp.element,c=window.wp.i18n,d=window.wp.primitives,u=window.ReactJSXRuntime,p=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})}),h=window.wp.notices,w=["image"],m="full",g={x:.5,y:.5};function f(e,t){return e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e?.url||e?.source_url}function b({x:e,y:t}=g){return`${Math.round(100*e)}% ${Math.round(100*t)}%`}const v=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"})}),x=JSON.parse('{"UU":"plain-blocks/featured-image"}');(0,e.registerBlockType)(x.UU,{icon:v,edit:function({clientId:e,attributes:t,setAttributes:d,context:{postId:g,postType:v,queryId:x}}){const _=Number.isFinite(x),{focalPoint:j,sizeSlug:k}=t,[y,S]=(0,a.useState)(),[P,z]=(0,i.useEntityProp)("postType",v,"featured_media",g),{media:B}=(0,n.useSelect)(e=>{const{getMedia:t}=e(i.store);return{media:P&&t(P,{context:"view"})}},[P,v,g]),M=f(B,k),O=y||M,T={objectPosition:j?b(j):void 0},V=(0,a.useRef)(),D=(0,s.useBlockProps)({className:o({"is-transient":y})}),F=(0,s.useBlockEditingMode)(),I=e=>(0,u.jsx)(r.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0,style:{height:"100%",width:"100%"},children:e}),{getSettings:R}=(0,n.useSelect)(s.store),C=R()?.imageSizes,E=e=>{e?.id&&(z(e.id),U(k&&(e?.sizes?.[k]||e?.media_details?.sizes?.[k])?k:m)),e?.url&&(0,l.isBlobURL)(e.url)&&S(e.url)};(0,a.useEffect)(()=>{M&&y&&S()},[M,y]);const{createErrorNotice:H}=(0,n.useDispatch)(h.store),N=e=>{H(e,{type:"snackbar"}),S()},U=e=>{const t=f(B,e);if(!t)return null;d({url:t,sizeSlug:e})},A=C?.filter(({slug:e})=>B?.media_details?.sizes?.[e]?.source_url)?.map(({name:e,slug:t})=>({value:t,label:e})),L=e=>{const[t,o]=[V.current.style,"objectPosition"];t[o]=b(e)},G="default"===F&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.InspectorControls,{children:(0,u.jsxs)(r.__experimentalToolsPanel,{label:(0,c.__)("Settings","plain-blocks"),resetAll:()=>{d({focalPoint:void 0,sizeSlug:void 0})},children:[!!A?.length&&(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>k!==m,label:(0,c.__)("Resolution","plain-blocks"),onDeselect:()=>U(m),isShownByDefault:!0,panelId:e,children:(0,u.jsx)(r.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Resolution","plain-blocks"),value:null!=k?k:m,options:A,onChange:U,help:(0,c.__)("Select the size of the source image.","plain-blocks"),size:"__unstable-large"})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{label:(0,c.__)("Focal point","plain-blocks"),isShownByDefault:!0,hasValue:()=>!!j,onDeselect:()=>d({focalPoint:void 0}),children:(0,u.jsx)(r.FocalPointPicker,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Focal point","plain-blocks"),url:M,value:j,onDragStart:L,onDrag:L,onChange:e=>d({focalPoint:e})})})]})})});if(!P&&(_||!g))return(0,u.jsxs)(u.Fragment,{children:[G,(0,u.jsx)("div",{...D,children:I()})]});let J;return J=P||y?O?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("img",{ref:V,alt:B?.alt_text?B.alt_text:void 0,className:"wp-block-plain-blocks-featured-image__image-background",src:O,style:T}),y&&(0,u.jsx)(r.Spinner,{})]}):I():(0,u.jsx)(s.MediaPlaceholder,{onSelect:E,accept:"image/*",allowedTypes:w,onError:N,placeholder:I,mediaLibraryButton:({open:e})=>(0,u.jsx)(r.Button,{__next40pxDefaultSize:!0,icon:p,variant:"primary",label:(0,c.__)("Add a featured image","plain-blocks"),showTooltip:!0,tooltipPosition:"top center",onClick:()=>{e()}})}),(0,u.jsxs)(u.Fragment,{children:[!y&&G,!!B&&!_&&(0,u.jsx)(s.BlockControls,{group:"other",children:(0,u.jsx)(s.MediaReplaceFlow,{mediaId:P,mediaURL:M,allowedTypes:w,accept:"image/*",onSelect:E,onError:N,onReset:()=>z(0)})}),(0,u.jsx)("div",{...D,children:J})]})}})}},o={};function l(e){var i=o[e];if(void 0!==i)return i.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,o,i,n)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,i,n]=e[d],s=!0,a=0;a<o.length;a++)(!1&n||r>=n)&&Object.keys(l.O).every(e=>l.O[e](o[a]))?o.splice(a--,1):(s=!1,n<r&&(r=n));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,i,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={956:0,508:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var i,n,[r,s,a]=o,c=0;if(r.some(t=>0!==e[t])){for(i in s)l.o(s,i)&&(l.m[i]=s[i]);if(a)var d=a(l)}for(t&&t(o);c<r.length;c++)n=r[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},o=globalThis.webpackChunkplain_blocks=globalThis.webpackChunkplain_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=l.O(void 0,[508],()=>l(672));i=l.O(i)})();